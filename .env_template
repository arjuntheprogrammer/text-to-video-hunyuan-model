# Copy this file to .env and set your Hugging Face access token.
HF_TOKEN=your_huggingface_token_here
HF_XET_HIGH_PERFORMANCE=1
LOCAL_FILES_ONLY=1
ALLOW_REMOTE_FALLBACK=1
HF_HOME=./models
HF_HUB_CACHE=./models
TORCH_HOME=./models
ENABLE_SEQUENTIAL_CPU_OFFLOAD=0
ENABLE_MODEL_CPU_OFFLOAD=1

# Output quality defaults
DEFAULT_FPS=24
DEFAULT_DURATION_SECONDS=6
DEFAULT_NUM_INFERENCE_STEPS=45
DEFAULT_GUIDANCE_SCALE=7.5

# Prompt-tuning overrides
# DEFAULT_PROMPT_SUFFIX='Keep motion physically plausible and temporally consistent with realistic inertia and continuity. Preserve subject identity, body proportions, and scene geometry. Use natural lighting, realistic textures, stable exposure, and cinematic camera behavior. Keep a single continuous shot with no scene cuts.'
# DEFAULT_NEGATIVE_PROMPT='flicker, frame-to-frame inconsistency, random fade, ghosting, jitter, morphing face, deformed anatomy, warped limbs, duplicate body parts, abrupt camera jumps, unrealistic motion, cartoon look, over-smoothing, over-sharpening, artifacts, text, watermark, logo, scene cuts'
MAX_PROMPT_WORDS=60
MAX_NEGATIVE_PROMPT_WORDS=60

# Optional guidance params (only applied if supported by the pipeline)
# GUIDANCE_RESCALE=
# IMAGE_GUIDANCE_SCALE=
# STRENGTH=

# Auto input sizing
AUTO_MAX_INPUT_SIDE=1
# MAX_INPUT_IMAGE_SIDE=auto  # set to a number (e.g., 1024) to override auto

# Output resolution presets
DEFAULT_OUTPUT_LONG_EDGE=1080
OUTPUT_LONG_EDGE_OPTIONS=720,1080,1440

# Deflicker
ENABLE_DEFLICKER=0
QUALITY_PROFILE=balanced
MAX_FRAMES_BY_PROFILE=low:160,balanced:320,high:320
MAX_STEPS_BY_PROFILE=low:20,balanced:28,high:32
MAX_INPUT_SIDE_BY_PROFILE=low:768,balanced:1024,high:1280
ENABLE_SHARPEN=0
SHARPEN_STRENGTH=0.35
DEFLICKER_WINDOW=3

# Captioning (BLIP-2)
ENABLE_CAPTIONING=1
CAPTION_MODEL_ID=Salesforce/blip2-opt-2.7b
CAPTION_DEVICE=cpu
CAPTION_MAX_TOKENS=40
